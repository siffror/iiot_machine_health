# ==============================
# RMS + FFT Service â€“ Dockerfile
# ==============================

# 1) Base image: official Python (Debian Slim)
#    Slim keeps the image small while being compatible with most Python wheels.
FROM python:3.11-slim

# 2) Set the working directory inside the container
WORKDIR /app

# 3) Install dependencies
#    Copy the requirements first to leverage Docker layer caching, then install
#    with --no-cache-dir to avoid keeping pip cache in the final image.
COPY requirements.txt .
RUN pip install --no-cache-dir -r requirements.txt

# 4) Copy the application code
COPY app.py .

# 5) Environment variables (can be overridden at deploy time)
#    PYTHONUNBUFFERED=1 ensures logs are flushed immediately (useful in containers).
ENV PYTHONUNBUFFERED=1

# 6) Default command to start the service
CMD ["python", "app.py"]
